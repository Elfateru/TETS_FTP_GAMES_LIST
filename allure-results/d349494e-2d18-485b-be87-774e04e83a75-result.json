{"name": "test_filter_by_category", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка при возврате фильтра Category в 'not chosen': Нет карточек после сброса фильтра на 'not chosen'\nassert 0 > 0\n +  where 0 = len([])", "trace": "driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c6d0c7ec82ecfb3da6556ab278e61cfd\")>\n\n    @allure.feature(\"Filter\")\n    @allure.story(\"Фильтр по категории (Category)\")\n    def test_filter_by_category(driver):\n        url = \"https://makarovartem.github.io/frontend-avito-tech-test-assignment\"\n        driver.get(url)\n        wait = WebDriverWait(driver, 10)\n    \n        with allure.step(\"Находим фильтр категории и проверяем дефолтное значение\"):\n            filter_category = driver.find_elements(By.CSS_SELECTOR, \"div.ant-select\")[1]\n            dropdown = filter_category.find_element(By.CSS_SELECTOR, \".ant-select-selection-item\")\n            assert dropdown.text.lower() == \"not chosen\", f\"Фильтр не в дефолтном состоянии: {dropdown.text}\"\n    \n        with allure.step(\"Выбираем категорию 'shooter'\"):\n            dropdown.click()\n            wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \".ant-select-dropdown\")))\n            category_option = wait.until(\n                EC.element_to_be_clickable(\n                    (By.XPATH, \"//div[contains(@class,'ant-select-item-option-content') and text()='shooter']\")\n                )\n            )\n            category_option.click()\n            time.sleep(1)\n            cards = driver.find_elements(By.CSS_SELECTOR, \"ul.ant-list-items > li\")\n            assert len(cards) > 0, \"Нет карточек для категории 'shooter'\"\n    \n        with allure.step(\"Сбрасываем фильтр обратно на 'not chosen' и проверяем баг\"):\n            dropdown = filter_category.find_element(By.CSS_SELECTOR, \".ant-select-selection-item\")\n            dropdown.click()\n            wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \".ant-select-dropdown\")))\n            not_chosen_option = wait.until(\n                EC.element_to_be_clickable(\n                    (By.XPATH, \"//div[contains(@class,'ant-select-item-option-content') and text()='not chosen']\")\n                )\n            )\n            not_chosen_option.click()\n            time.sleep(1)\n            try:\n                cards_all = driver.find_elements(By.CSS_SELECTOR, \"ul.ant-list-items > li\")\n>               assert len(cards_all) > 0, \"Нет карточек после сброса фильтра на 'not chosen'\"\nE               AssertionError: Нет карточек после сброса фильтра на 'not chosen'\nE               assert 0 > 0\nE                +  where 0 = len([])\n\ntests\\test_filter_by_category.py:46: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c6d0c7ec82ecfb3da6556ab278e61cfd\")>\n\n    @allure.feature(\"Filter\")\n    @allure.story(\"Фильтр по категории (Category)\")\n    def test_filter_by_category(driver):\n        url = \"https://makarovartem.github.io/frontend-avito-tech-test-assignment\"\n        driver.get(url)\n        wait = WebDriverWait(driver, 10)\n    \n        with allure.step(\"Находим фильтр категории и проверяем дефолтное значение\"):\n            filter_category = driver.find_elements(By.CSS_SELECTOR, \"div.ant-select\")[1]\n            dropdown = filter_category.find_element(By.CSS_SELECTOR, \".ant-select-selection-item\")\n            assert dropdown.text.lower() == \"not chosen\", f\"Фильтр не в дефолтном состоянии: {dropdown.text}\"\n    \n        with allure.step(\"Выбираем категорию 'shooter'\"):\n            dropdown.click()\n            wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \".ant-select-dropdown\")))\n            category_option = wait.until(\n                EC.element_to_be_clickable(\n                    (By.XPATH, \"//div[contains(@class,'ant-select-item-option-content') and text()='shooter']\")\n                )\n            )\n            category_option.click()\n            time.sleep(1)\n            cards = driver.find_elements(By.CSS_SELECTOR, \"ul.ant-list-items > li\")\n            assert len(cards) > 0, \"Нет карточек для категории 'shooter'\"\n    \n        with allure.step(\"Сбрасываем фильтр обратно на 'not chosen' и проверяем баг\"):\n            dropdown = filter_category.find_element(By.CSS_SELECTOR, \".ant-select-selection-item\")\n            dropdown.click()\n            wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \".ant-select-dropdown\")))\n            not_chosen_option = wait.until(\n                EC.element_to_be_clickable(\n                    (By.XPATH, \"//div[contains(@class,'ant-select-item-option-content') and text()='not chosen']\")\n                )\n            )\n            not_chosen_option.click()\n            time.sleep(1)\n            try:\n                cards_all = driver.find_elements(By.CSS_SELECTOR, \"ul.ant-list-items > li\")\n                assert len(cards_all) > 0, \"Нет карточек после сброса фильтра на 'not chosen'\"\n            except Exception as e:\n                allure.attach(driver.page_source, name=\"page_source\", attachment_type=allure.attachment_type.HTML)\n>               raise AssertionError(f\"Ошибка при возврате фильтра Category в 'not chosen': {e}\")\nE               AssertionError: Ошибка при возврате фильтра Category в 'not chosen': Нет карточек после сброса фильтра на 'not chosen'\nE               assert 0 > 0\nE                +  where 0 = len([])\n\ntests\\test_filter_by_category.py:49: AssertionError"}, "steps": [{"name": "Находим фильтр категории и проверяем дефолтное значение", "status": "passed", "start": 1749993242816, "stop": 1749993242853}, {"name": "Выбираем категорию 'shooter'", "status": "passed", "start": 1749993242853, "stop": 1749993245062}, {"name": "Сбрасываем фильтр обратно на 'not chosen' и проверяем баг", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка при возврате фильтра Category в 'not chosen': Нет карточек после сброса фильтра на 'not chosen'\nassert 0 > 0\n +  where 0 = len([])\n", "trace": "  File \"C:\\Users\\FATE\\PycharmProjects\\TETS_FTP_GAMES_LIST\\tests\\test_filter_by_category.py\", line 49, in test_filter_by_category\n    raise AssertionError(f\"Ошибка при возврате фильтра Category в 'not chosen': {e}\")\n"}, "attachments": [{"name": "page_source", "source": "e1193517-0348-4b4a-9f23-a576569d221f-attachment.html", "type": "text/html"}], "start": 1749993245062, "stop": 1749993246810}], "attachments": [{"name": "screenshot_on_failure", "source": "3754b291-30eb-42bb-b248-19de9ee5a616-attachment.png", "type": "image/png"}], "start": 1749993242278, "stop": 1749993246811, "uuid": "d6d337b1-d88c-41f9-aca8-debd256c2682", "historyId": "caada634f8fe032b72106d2788cd02dc", "testCaseId": "caada634f8fe032b72106d2788cd02dc", "fullName": "tests.test_filter_by_category#test_filter_by_category", "labels": [{"name": "story", "value": "Фильтр по категории (Category)"}, {"name": "feature", "value": "Filter"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_filter_by_category"}, {"name": "host", "value": "DESKTOP-VNCOHUV"}, {"name": "thread", "value": "10196-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_filter_by_category"}]}